<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Node 03-task3</title>
	<style type="text/css">
		* {
			color: #011627;
            background-color: #f5e7d1;
            text-align: center;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
		}
        #result {
            text-align: left;
        }
	</style>
</head>
<body>
	<h1>03_task3</h1>
    <div id="result" style="color: #7a1010;"></div>
    <script>
		let result = document.getElementById("result");
        result.innerHTML = '';
		let num = 0;
		const time = Date.now();
		for(let k = 0; k < 21; k++) {
	        fetch(`http://localhost:5000/fact?k=${k}`, {
				method: 'GET', 
                mode: 'no-cors',
				headers: {
					'Content-Type': 'application/json',
					'Accept': 'application/json'
				},
			})
            .then(response => { return response.json(); })
            .then((data) => {
				result.innerHTML += '[ ' + (num++) + ' ] Результат: ' + (Date.now() - time) + ' - ' + data.k + ' / ' + data.fact + '<br>';
			});
		}
    </script>
</body>
</html>
